const express = require('express')
const bodyParser = require('body-parser')
const dotenv = require('dotenv').config()
const fc = require('./foodController')
const userC = require('./userController')

const app = express()

app.use(bodyParser.json())


/**********************************************************************************/
// Return foods array
app.get('/api/foods', fc.sendFood)     
/**********************************************************************************/

/**********************************************************************************/
// Return pics of food
app.get('/api/foods/pics', fc.sendPics)     
/**********************************************************************************/

/**********************************************************************************/
// Filter foods from name query
app.get('/api/foods/search', fc.filter)
/**********************************************************************************/

/**********************************************************************************/
// Get food item for game
app.get('/api/foods/game', fc.playGame)
/**********************************************************************************/

/**********************************************************************************/
// Get food item for game from replay
app.get('/api/foods/game/replay/:id', fc.replayGame)
/**********************************************************************************/

/**********************************************************************************/
// Add food to the replay list
// app.post(`/api/foods/replay/:id`, fc.createR)
/**********************************************************************************/

/***********************************************************************************/
// Get food macros
app.get('/api/foods/game/:id', fc.getMacros)
/***********************************************************************************/

/***********************************************************************************/
// Return Replay Array
app.get('/api/foods/replay', fc.sendReplays)
/***********************************************************************************/

/***********************************************************************************/
// Return recipe
app.get('/api/foods/replay/recipe', fc.getRecipe)
/***********************************************************************************/

/***********************************************************************************/
// Favorite a food item
app.put('/api/foods/replay', fc.addFav)
/***********************************************************************************/

app.get('/api/foods/favs')

/***********************************************************************************/
// Add a food item
app.post('/api/foods', fc.addFood)
/***********************************************************************************/

/***********************************************************************************/
// Remove food from the food list
app.delete('/api/foods/replay/:id', fc.destroy)
/***********************************************************************************/

/***********************************************************************************/
// Login user
app.post('/api/users/login', fc.login)
/***********************************************************************************/

/***********************************************************************************/
// Create new user
app.post('/api/users/signup', fc.newUser)
/***********************************************************************************/

/***********************************************************************************/
// Add fav to user
app.post('/api/users/fav', fc.addFav)
/***********************************************************************************/


app.listen(3007, () => {
    console.log("All Hands On Deck at Port 3007!")
})